{"version":3,"file":"main.js","sources":["js/lib/numberWithSpaces.js","js/main.js"],"sourcesContent":["/**\r\n * makes space-divided number\r\n * @param {number} x\r\n * @return {string}\r\n */\r\nfunction numberWithSpaces(x) {\r\n  if (x !== null && typeof x !== `undefined` && x !== ``) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, `&thinsp;`);\r\n  }\r\n  return `н/д`;\r\n}\r\n\r\nexport default numberWithSpaces;\r\n","import numberWithSpaces from \"./lib/numberWithSpaces\";\nconst TIMEOUT = 10000;\nconst sliderControl = document.querySelector(`.slider-controls`);\nconst frame = document.getElementById(`slide`);\nconst sliderBtns = [...sliderControl.querySelectorAll(`.slider-control`)];\nconst slideIds = sliderBtns.map((btn) => btn.dataset.slide);\nconst bullit = document.querySelector(`.bullit`);\nconst growNum = (node, num) => {\n  console.log(node, num)\n  let temp = 0;\n  let grow = setInterval(() => {\n    if(Math.floor(temp+= num / 200) <= num) {\n      node.innerHTML = numberWithSpaces(Math.floor(temp));\n    } else {\n      clearInterval(grow);\n    }\n  }, 5);\n}\n\nconst Slider = {\n  btns: sliderBtns,\n  slideIds: slideIds,\n  frame: frame,\n  get index() {\n    const currentSlideId = sliderBtns.find((btn) => btn.classList.contains(`slider-control--active`)).dataset.slide;\n    return slideIds.indexOf(currentSlideId);\n  },\n  next() {\n    const index = this.index;\n\n    const slideId = this.slideIds[(index + 1) % this.slideIds.length];\n    const btn = this.btns.find((btn) => btn.dataset.slide === slideId);\n    this.slide(btn);\n  },\n  prev() {\n    const index = this.index;\n    const slideId = this.slideIds[(index - 1 + this.slideIds.length) % this.slideIds.length];\n    const btn = this.btns.find((btn) => btn.dataset.slide === slideId);\n    this.slide(btn);\n  },\n  slide(btn) {\n    const slideId = btn.dataset.slide;\n    if (slideId && slideId !== slideIds[this.index]) {\n      const currentControl = sliderControl.querySelector(`.slider-control--active`);\n      if (currentControl) {\n        currentControl.classList.remove(`slider-control--active`);\n      }\n      const currentSlide = document.querySelector(`.iframe--active`);\n      if (currentSlide) {\n        currentSlide.classList.remove(`iframe--active`);\n      }\n      document.getElementById(slideId).classList.add(`iframe--active`);\n      if(slideId === `socnet`) {\n        const sn = document.querySelector(`#socnet`).contentWindow.document.querySelector(`.socnets`);\n        sn.innerHTML = sn.innerHTML;\n      } else if(slideId === `last`) {\n        const boo = document.querySelector(`#last`).contentWindow.document.querySelector(`.columns`);\n        boo.innerHTML = boo.innerHTML;\n        const bigNum = document.querySelector(`#last`).contentWindow.document.querySelector(`.big-num`);\n        growNum(document.querySelector(`#last`).contentWindow.document.querySelector(`.big-num`), document.querySelector(`#last`).contentWindow.document.querySelector(`.big-num`).dataset.average);\n\n      }\n      btn.classList.add(`slider-control--active`);\n      btn.appendChild(bullit);\n    }\n  }\n}\n\nlet autoPlay = setInterval(() => {\n  Slider.next()\n}, TIMEOUT);\nconst stopAutoPlay = () => {\n  clearInterval(autoPlay);\n  sliderControl.classList.remove(`slider-controls--animated`);\n  autoPlay = null;\n}\n\nwindow.addEventListener(`keyup`, (e) => {\n  switch (e.keyCode) {\n    case 32: //space\n      Slider.next();\n      stopAutoPlay();\n\n      break;\n    case 8: //backspace\n      Slider.prev();\n      stopAutoPlay();\n\n      break;\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 97:\n    case 98:\n    case 99:\n    case 100: // numbers 1-4\n      const index = parseInt(e.key, 10) - 1;\n      Slider.slide(Slider.btns[index]);\n      stopAutoPlay();\n\n      break;\n    case 13: //enter\n      if (!autoPlay) {\n        autoPlay = setInterval(() => {\n          Slider.next()\n        }, TIMEOUT);\n      }\n      sliderControl.classList.add(`slider-controls--animated`)\n\n  }\n})\n\n// Slider.slide(Slider.btns[1]);\n// stopAutoPlay();\nsliderBtns[1].focus();\n"],"names":[],"mappings":"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"}